<ng-template #defaultExcelColumnOperations>
    <div *ngIf="column.sortable">
        <igx-excel-style-sorting class="igx-excel-filter__sort">
        </igx-excel-style-sorting>
    </div>

    <div *ngIf="column.movable">
        <igx-excel-style-column-moving class="igx-excel-filter__move">
        </igx-excel-style-column-moving>
    </div>

    <div *ngIf="!column.disablePinning && grid.displayDensity==='comfortable'">
        <igx-excel-style-pinning>
        </igx-excel-style-pinning>
    </div>

    <div *ngIf="!column.disableHiding && grid.displayDensity==='comfortable'">
        <igx-excel-style-hiding>
        </igx-excel-style-hiding>
    </div>

    <div *ngIf="columnSelectable() && grid.displayDensity==='comfortable'">
        <igx-excel-style-selecting>
        </igx-excel-style-selecting>
    </div>
</ng-template>

<ng-template #defaultExcelFilterOperations>
    <igx-excel-style-clear-filters>
    </igx-excel-style-clear-filters>

    <igx-excel-style-conditional-filter>
    </igx-excel-style-conditional-filter>

    <igx-excel-style-search #excelStyleSearch
        class="igx-excel-filter__menu-main">
    </igx-excel-style-search>
</ng-template>

<article #mainDropdown
    *ngIf="column"
    class="igx-excel-filter__menu"
    [ngClass]="{
        'igx-excel-filter__menu--cosy': grid.displayDensity === 'cosy',
        'igx-excel-filter__menu--compact': grid.displayDensity === 'compact'
    }"
    [id]="overlayComponentId"
    (keydown)="onKeyDown($event)"
    [style.min-height]="minHeight"
    [style.max-height]="maxHeight">

    <header class="igx-excel-filter__menu-header">
        <h4>{{ column.header || column.field }}</h4>
        <div *ngIf="grid.displayDensity!=='comfortable'" class="igx-excel-filter__menu-header-actions">
            <button *ngIf="columnSelectable()" igxButton="icon"
            [displayDensity]="grid.displayDensity" (click)="onSelect()"
            tabindex="0" [ngClass]='selectedClass()'>
             <igx-icon fontSet="material">done</igx-icon>
            </button>
            <button *ngIf="!column.disablePinning && !column.pinned"
                igxButton="icon"
                [displayDensity]="grid.displayDensity"
                (click)="onPin()"
                [disabled]="!isColumnPinnable"
                tabindex="0">
                <igx-icon fontSet="pinning-icons" name="pin"></igx-icon>
            </button>
            <button *ngIf="!column.disablePinning && column.pinned"
                igxButton="icon"
                [displayDensity]="grid.displayDensity"
                (click)="onPin()"
                tabindex="0">
                <igx-icon fontSet="pinning-icons" name="unpin"></igx-icon>
            </button>
            <button *ngIf="!column.disableHiding"
                igxButton="icon"
                [displayDensity]="grid.displayDensity"
                tabindex="0"
                (click)="onHideToggle()">
                <igx-icon>{{ column.hidden ? 'visibility' : 'visibility_off' }}</igx-icon>
            </button>
        </div>
    </header>

    <ng-container *ngIf="this.excelColumnOperationsDirective; else defaultExcelColumnOperations">
        <ng-content select="igx-excel-column-operations,[igxExcelColumnOperations]">
        </ng-content>
    </ng-container>

    <ng-container *ngIf="this.excelFilterOperationsDirective; else defaultExcelFilterOperations">
        <ng-content select="igx-excel-filter-operations,[igxExcelFilterOperations]">
        </ng-content>
    </ng-container>
</article>
