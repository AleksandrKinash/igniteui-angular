////
/// @group themes
/// @access public
/// @author <a href="https://github.com/desig9stein" target="_blank">Marin Popov</a>
////
///
/// @param {Color} $add-icon-color [null] - The combo add new item icon color.
/// @param {Color} $search-separator-border-color [null] - The combo search box separator color.
/// @param {Color} $search-background [null] - The combo search box background color.
///
/// @requires text-contrast
/// @requires igx-color
@function igx-combo-theme(
    $palette: $default-palette,

    $background-color: null,
    $add-icon-color: null,
    $search-separator-border-color: null
) {

    $default-theme: (
        name: 'igx-combo',
        add-icon-color: igx-color($palette, 'primary', 500),
        search-separator-border-color: igx-color($palette, 'grays', 300),
    );


    @return extend($default-theme,
    (
        pallete: $palette,
        background-color: $background-color,
        add-icon-color: $add-icon-color,
        search-separator-border-color: $search-separator-border-color,
    ));
}

/// @param {Map} $theme - The theme used to style the component.
/// @requires {mixin} igx-root-css-vars
/// @requires igx-color
/// @requires rem
@mixin igx-combo($theme) {
    @include igx-root-css-vars($theme);

    %igx-combo {
        position: relative;
    }

    %igx-combo__drop-down {
        position: absolute;
        width: 100%;

        .igx-drop-down {
            width: 100%;
        }
    }

    %igx-combo__search {
        padding: rem(8px) rem(16px);
        margin: 0 !important;
        z-index: 26;
        border-bottom: 1px dashed  --var($theme, 'search-separator-border-color');
    }

    %igx-combo__content {
        position: relative;
        overflow: hidden;

        &:focus {
            outline: transparent;
        }
    }

    .igx-drop-down__item {
        &%igx-combo__add {
            position: relative;
            bottom: 0;
            justify-content: center !important;

            igx-icon {
                color: --var($theme, 'add-icon-color');
            }
        }
    }
}
