////
/// @group themes
@function igx-splitter-theme(
    $palette: $default-palette,
    $schema: $light-schema,
    $elevations: $elevations,

    $bar-color: null,
    $handle-color: null,
    $expander-color: null,
    $border-radius: null,
    $size: null
) {
    $name: 'igx-splitter';
    $splitter-schema: ();

    @if map-has-key($schema, $name) {
        $splitter-schema: map-get($schema, $name);
    } @else {
        $splitter-schema: $schema;
    }

    $border-radius: round-borders(
        if($border-radius, $border-radius, map-get($splitter-schema, 'border-radius')), 0, 2px
    );

    $theme: apply-palette($splitter-schema, $palette);

    @if not($handle-color) and $bar-color {
        $handle-color: text-contrast($bar-color);
    }

    @if not($expander-color) and $bar-color {
        $expander-color: text-contrast($bar-color);
    }

    @return extend($theme, (
        name: $name,
        palette: $palette,
        bar-color: $bar-color,
        handle-color: $handle-color,
        expander-color: $expander-color,
        border-radius: $border-radius,
        size: $size
    ));
}

/// @param {Map} $theme - The theme used to style the component.
/// @requires {mixin} igx-root-css-vars
/// @requires rem
/// @requires --var
@mixin igx-splitter($theme) {
    @include igx-root-css-vars($theme);
    $splitter-color: --var($theme, 'bar-color');

    %igx-splitter-bar {
        display: flex;
        flex-grow: 1;
        justify-content: center;
        align-items: center;
        background: $splitter-color;
        border: 1px solid $splitter-color;
    }

    %igx-splitter-bar--vertical {
        flex-direction: column;
        height: 100%;
    }

    %igx-splitter-handle {
        background: --var($theme, 'handle-color');
        border-radius: --var($theme, 'border-radius');
    }

    %igx-splitter-handle--horizontal {
        cursor: row-resize;
        width: 25%;
        height: --var($theme, 'size');
        margin: 0 rem(48px);
    }

    %igx-splitter-handle--vertical {
        cursor: col-resize;
        width: --var($theme, 'size');
        height: 25%;
        margin: rem(48px) 0;
    }

    %igx-splitter-expander {
        position: relative;
        width: 0;
        height: 0;
        border-right: --var($theme, 'size') solid transparent;
        border-left: --var($theme, 'size') solid transparent;
        cursor: pointer;
    }

    %igx-splitter-expander--start {
        border-bottom: --var($theme, 'size') solid --var($theme, 'expander-color');
    }

    %igx-splitter-expander--end {
        border-bottom: unset;
        border-top: --var($theme, 'size') solid --var($theme, 'expander-color');
    }

    %igx-splitter-expander--start-vertical {
        border-top: --var($theme, 'size') solid transparent;
        border-right: --var($theme, 'size') solid --var($theme, 'expander-color');
        border-bottom: --var($theme, 'size') solid transparent;
        border-left: unset;
    }

    %igx-splitter-expander--end-vertical {
        border-top: --var($theme, 'size') solid transparent;
        border-right: unset;
        border-bottom: --var($theme, 'size') solid transparent;
        border-left: --var($theme, 'size') solid --var($theme, 'expander-color');
    }
}
